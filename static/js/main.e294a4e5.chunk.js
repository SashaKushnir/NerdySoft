(this.webpackJsonpnerdysoft=this.webpackJsonpnerdysoft||[]).push([[0],{111:function(e,t,n){},112:function(e,t,n){},20:function(e,t,n){e.exports={announceItemWrapper:"AnnouncementItem_announceItemWrapper__1eftR",propWrapper:"AnnouncementItem_propWrapper__ZsSnT",similiar:"AnnouncementItem_similiar__3yxWc",inlineFunctions:"AnnouncementItem_inlineFunctions__3Fl5k",inlineInfo:"AnnouncementItem_inlineInfo__nZgmU"}},214:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(0),c=n.n(r),a=n(53),s=n.n(a),o=(n(111),n(9)),d=(n(112),n.p+"static/media/photo_2021-02-05_23-36-05.f84df64d.jpg"),j=function(){return Object(i.jsx)("header",{children:Object(i.jsx)("img",{style:{width:"70%"},src:d,alt:""})})},l=n(5),u=n(30),m=n(31),b=n(35),O=n(34),h=n(14),p=n(8),x=function(e){return e.announcement},v=n(15),f=n(216),S=n(215),I=function(e){if(!e)return"required field"},y=n(80),A=n(44),g=n.n(A),_=function(e){var t=e.input,n=e.meta,r=Object(y.a)(e,["input","meta"]),c=n.touched&&n.error;return Object(i.jsxs)("div",{className:g.a.formControl+" "+(c?g.a.error:""),children:[Object(i.jsx)("textarea",Object(l.a)(Object(l.a)({},t),r)),c&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:n.error})})]})},T=function(e){var t=e.input,n=e.meta,r=Object(y.a)(e,["input","meta"]),c=n.touched&&n.error;return Object(i.jsxs)("div",{className:g.a.formControl+" "+(c?g.a.error:""),children:[Object(i.jsx)("input",Object(l.a)(Object(l.a)({},t),r)),c&&Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:n.error})})]})},w=function(e){return Object(i.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{name:"title",component:T,validate:[I],placeholder:"title"})}),Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{name:"body",component:_,placeholder:"body",validate:[I]})}),Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{name:"description.senderName",component:T,placeholder:"senderName",validate:[I]})}),Object(i.jsx)("div",{children:Object(i.jsx)(f.a,{name:"description.senderEmail",component:T,placeholder:"senderEmail",validate:[I]})}),Object(i.jsx)("button",{children:"Submit"})]})},L=w=Object(S.a)({form:"newAForm"})(w),N=n(20),D=n.n(N),C=function(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),o=Object(v.a)(s,2),d=o[0],j=o[1];return Object(i.jsxs)("div",{className:D.a.similiar,children:[Object(i.jsxs)("span",{className:D.a.itemTitle,onClick:function(){a(!0)},children:[Object(i.jsx)("b",{children:"Title : "}),e.aItem.title]}),Object(i.jsx)("div",{children:c&&Object(i.jsxs)("div",{children:[!d&&Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:D.a.inlineFunctions,children:[Object(i.jsx)("div",{onClick:function(){return a(!1)},children:"hideDetails"}),Object(i.jsx)("div",{onClick:function(){return j(!0)},children:"Edit Announcement"}),Object(i.jsx)("div",{onClick:function(){e.removeItem(e.aItem.id),a(!1)},children:"Delete Announcement"})]}),Object(i.jsxs)("div",{className:D.a.inlineInfo,children:[Object(i.jsx)("b",{children:"Sender : "})," ",e.aItem.description.senderName," ",e.aItem.description.senderEmail,Object(i.jsx)("b",{children:" Added at : "}),e.aItem.dateAdded,e.aItem.lastChange&&Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Last changed at : "}),e.aItem.lastChange]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Body : "})," ",e.aItem.body]})]}),d&&Object(i.jsxs)("div",{children:[Object(i.jsx)(L,{initialValues:e.aItem,onSubmit:function(t){t.id=e.aItem.id,t.lastChange=(new Date).toLocaleString(),e.editAItem(t),j(!1)}}),Object(i.jsx)("button",{onClick:function(){return j(!1)},children:"Cancel"})]})]})})]})},E=function(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(!1),o=Object(v.a)(s,2),d=o[0],j=o[1],l=Object(r.useState)(!1),u=Object(v.a)(l,2),m=u[0],b=u[1],O=Object(r.useState)(!1),h=Object(v.a)(O,2),p=h[0],x=h[1],f=e.MySimiliarArrayIndex.map((function(e){return Object(i.jsx)(C,{aItem:e})}));return Object(i.jsxs)("div",{className:D.a.announceItemWrapper,children:[Object(i.jsx)("div",{}),Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:D.a.itemTitle,onClick:function(){a(!0)},children:[Object(i.jsx)("b",{children:"Title : "}),e.aItem.title]}),Object(i.jsx)("div",{style:{paddingLeft:"12px"},children:c&&Object(i.jsxs)("div",{children:[Object(i.jsx)(B,{showForm:d,setShowDetails:a,showFormToggle:j,removeItem:function(){e.removeItem(e.aItem.id),a(!1)},getTopTheSimiliar:function(){e.getTopSimiliar(e.aItem,3,e.arrayIndex),b(!0),e.hideOtherDetails(e.aItem.id)},showTopToggle:b,aItem:e.aItem,showTop:m,top:f}),d&&Object(i.jsxs)("div",{children:[Object(i.jsx)(L,{initialValues:e.aItem,onSubmit:function(t){t.id=e.aItem.id,t.lastChange=(new Date).toLocaleString(),e.editAItem(t),j(!1),x(!0),setTimeout((function(){x(!1)}),3e3)}}),Object(i.jsx)("button",{onClick:function(){return j(!1)},children:"Cancel"})]}),Object(i.jsx)("div",{children:p&&Object(i.jsx)("div",{children:"Edit Success"})})]})})]}),Object(i.jsx)("div",{})]})},k=function(e){var t=e.setShowDetails,n=e.showFormToggle,r=e.showTopToggle,c=e.showTop,a=e.removeItem,s=e.getTopTheSimiliar;return Object(i.jsxs)("div",{className:D.a.propWrapper,children:[Object(i.jsx)("div",{onClick:function(){return t(!1)},children:"hideDetails"}),Object(i.jsx)("div",{onClick:function(){return n(!0)},children:"Edit Announcement"}),Object(i.jsx)("div",{onClick:a,children:"Delete Announcement"}),Object(i.jsx)("div",{children:c?Object(i.jsx)("div",{onClick:function(){return r(!1)},children:"HideTop"}):Object(i.jsx)("div",{onClick:s,children:"Get Top 3 Similiar"})})]})},B=function(e){var t=e.showForm,n=e.setShowDetails,r=e.showFormToggle,c=e.removeItem,a=e.getTopTheSimiliar,s=e.aItem,o=e.showTop,d=e.top,j=e.showTopToggle;return Object(i.jsx)("div",{children:!t&&Object(i.jsxs)("div",{children:[Object(i.jsx)(k,{setShowDetails:n,showFormToggle:r,removeItem:c,getTopTheSimiliar:a,showTop:o,showTopToggle:j}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Sender : "})," ",s.description.senderName," ",s.description.senderEmail,Object(i.jsx)("b",{children:" Added at : "}),s.dateAdded,s.lastChange&&Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Last changed at : "}),s.lastChange]})]}),Object(i.jsxs)("div",{children:[Object(i.jsx)("b",{children:"Body : "})," ",s.body]}),o&&d]})})},M=function(e){var t=e.ShowAList.map((function(t,n){return Object(i.jsx)(E,{aItem:t,arrayIndex:n,getTopSimiliar:e.getTopSimiliar,editAItem:e.editAItem,removeItem:e.removeItem,arrayDetails:e.arrayDetails,MySimiliarArrayIndex:e.MySimiliarArrayIndex,hideOtherDetails:e.hideOtherDetails},n)})).reverse();return Object(i.jsx)("div",{children:t})},F=n(36),R=[{id:1,title:"Vacancy",dateAdded:"03.02.2021, 14:58:22",description:{senderName:"Dima",senderEmail:"Dima@gmail"},body:"A JavaScript Sasha"},{id:2,title:"Work V",dateAdded:"03.02.2021, 14:58:22",description:{senderName:"Dima1",senderEmail:"Dima@gmail"},body:"A JavaScript Sasha."},{id:3,title:"Title",dateAdded:"03.02.2021, 14:58:22",description:{senderName:"Dima2",senderEmail:"Dima@gmail"},body:"Sasha"},{id:4,title:"Main",dateAdded:"03.02.2021, 14:58:22",description:{senderName:"Dima3",senderEmail:"Dima@gmail"},body:"A JavaScript Dima"},{id:5,title:"Checkout",dateAdded:"03.02.2021, 14:58:22",description:{senderName:"Dima4",senderEmail:"Dima@gmail"},body:"A JavaScript Dima"}],W="announcementReducer_FILTER_BY_TITLE",J="announcementReducer_SHOW_ORIGIN",P="announcementReducer_PUSH_ANN",U="announcementReducer_CHANGE_ITEM",V="announcementReducer_DELETE_ITEM",X="announcementReducer_FIND_TOP_SIMILIAR",z="announcementReducer_SET_ARRAY_DETAILS",H={check:"asdada",BasicAnnouncementList:R,ShowAList:R,SearchList:[],MySimiliarArrayIndex:[],arrayDetails:null},Z=function(e){return{type:U,formObj:e}},G=function(e){return{type:V,removeId:e}},Y=function(e,t,n){return{type:X,aSimItem:e,topNum:t,arrayElem:n}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(l.a)(Object(l.a)({},e),{},{SearchList:Object(F.a)(e.BasicAnnouncementList.filter((function(e){return e.title.toLocaleLowerCase().includes(t.input.toLocaleLowerCase())})))});case J:return Object(l.a)(Object(l.a)({},e),{},{ShowAList:Object(F.a)(e.BasicAnnouncementList)});case P:var n=[].concat(Object(F.a)(e.BasicAnnouncementList),[Object(l.a)(Object(l.a)({},t.formObj),{},{id:e.BasicAnnouncementList.length+1})]);return Object(l.a)(Object(l.a)({},e),{},{BasicAnnouncementList:n,ShowAList:n});case U:var i=Object(F.a)(e.BasicAnnouncementList.map((function(e){return e.id===t.formObj.id?t.formObj:e})));return Object(l.a)(Object(l.a)({},e),{},{BasicAnnouncementList:i,ShowAList:i});case V:var r=Object(F.a)(e.BasicAnnouncementList.filter((function(e){return e.id!==t.removeId})));return Object(l.a)(Object(l.a)({},e),{},{BasicAnnouncementList:r,ShowAList:r});case X:var c=t.aSimItem.body.split(" ");c=c.concat(t.aSimItem.title.split(" "));var a=K(e,c,t,t.aSimItem.id);console.log(a);var s=Object.keys(a).reduce((function(e,t){var n=Q(a[Number(t)]);return n?(e[Number(t)]=n,e):e}),[]),o=s.sort((function(e,t){return t-e}));console.log("sortedCopy",o);for(var d=[],j=0;j<o.length;j++)d[j]=s.indexOf(o[j]),s[s.indexOf(o[j])]=null;console.log("resIndex",d),d=d.filter((function(e,n,i){return n!==t.arrayElem&&!(n>t.topNum)})),console.log("resIndex",d);var u=e.BasicAnnouncementList.filter((function(e,t){return d.includes(t)}));return console.log("finishUra",u),Object(l.a)(Object(l.a)({},e),{},{MySimiliarArrayIndex:u});case z:return Object(l.a)(Object(l.a)({},e),{},{arrayDetails:t.id});default:return e}},Q=function(e){return Object.keys(e).reduce((function(t,n,i,r){return t+=Number(e[n])}),0)},K=function(e,t,n,i){return Object(l.a)({},e.BasicAnnouncementList.reduce((function(e,n,r){if(i===n.id)return e;var c=n.body.split(" ");c=c.concat(n.title.split(" "));var a=t.reduce((function(e,t){return c.reduce((function(e,n){return t.replace(/[^a-zA-Z\u0410-\u042f\u0430-\u044f\u0401\u0451]/gi,"").replace(/\s+/gi,", ")===n.replace(/[^a-zA-Z\u0410-\u042f\u0430-\u044f\u0401\u0451]/gi,"").replace(/\s+/gi,", ")&&(e[n]||(e[n]=0),e[n]=e[n]+1),e}),e)}),{});return e[r]=Object(l.a)({},a),e}),{}))},$=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsx)(M,Object(l.a)({},this.props))}}]),n}(c.a.Component),ee=Object(p.d)(Object(h.b)((function(e){return{ShowAList:x(e).ShowAList,MySimiliarArrayIndex:x(e).MySimiliarArrayIndex,arrayDetails:x(e).arrayDetails}}),{showBase:function(){return{type:J}},editAItem:Z,removeItem:G,getTopSimiliar:Y,hideOtherDetails:function(e){return{type:z,id:e}}}))($),te=n(27),ne=n(24),ie=n.n(ne),re=function(){return Object(i.jsxs)("nav",{className:ie.a.wholeNavBar,children:[Object(i.jsx)("div",{}),Object(i.jsx)(te.b,{activeClassName:ie.a.active,className:ie.a.navLink,to:"/list",children:Object(i.jsx)("div",{children:"Announcement List"})}),Object(i.jsx)(te.b,{activeClassName:ie.a.active,className:ie.a.navLink,to:"/newAnnouncement",children:Object(i.jsx)("div",{children:"Add announcement"})}),Object(i.jsx)(te.b,{activeClassName:ie.a.active,className:ie.a.navLink,to:"/search",children:Object(i.jsx)("div",{children:" Search "})}),Object(i.jsx)("div",{})]})},ce=function(e){var t=Object(r.useState)(!1),n=Object(v.a)(t,2),c=n[0],a=n[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(L,{onSubmit:function(t){t.dateAdded=(new Date).toLocaleString(),e.pushAnn(t),a(!0),setTimeout((function(){a(!1)}),3e3)}}),c&&Object(i.jsx)("div",{children:"Success"})]})},ae=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsx)(ce,Object(l.a)({},this.props))}}]),n}(c.a.Component),se=Object(p.d)(Object(h.b)((function(e){return{ShowAList:x(e).ShowAList,MySimiliarArrayIndex:x(e).MySimiliarArrayIndex}}),{pushAnn:function(e){return{type:P,formObj:e}}}))(ae),oe=n(79),de=n.n(oe),je=function(e){var t=e.SearchList.map((function(t,n){return Object(i.jsx)(C,{aItem:t,arrayIndex:n,getTopSimiliar:e.getTopSimiliar,editAItem:e.editAItem,removeItem:e.removeItem,MySimiliarArrayIndex:e.MySimiliarArrayIndex},n)})).reverse(),n=Object(r.useState)(""),c=Object(v.a)(n,2),a=c[0],s=c[1];return Object(i.jsxs)("div",{className:de.a.serchWrapper,children:[Object(i.jsx)("div",{}),Object(i.jsx)("div",{children:t}),Object(i.jsxs)("div",{className:de.a.toRight,children:[Object(i.jsx)("input",{onChange:function(e){s(e.target.value)},value:a,type:"text"}),Object(i.jsx)("button",{onClick:function(){e.filterByTitle(a)},children:"Search"})]}),Object(i.jsx)("div",{})]})},le=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){return Object(i.jsx)(je,Object(l.a)({},this.props))}}]),n}(c.a.Component),ue=Object(p.d)(Object(h.b)((function(e){return{MySimiliarArrayIndex:x(e).MySimiliarArrayIndex,SearchList:x(e).SearchList}}),{filterByTitle:function(e){return{type:W,input:e}},editAItem:Z,removeItem:G,getTopSimiliar:Y}))(le);var me=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(j,{}),Object(i.jsx)(re,{}),Object(i.jsxs)(o.d,{children:[Object(i.jsx)(o.a,{exact:!0,from:"/",to:"/list"}),Object(i.jsx)(o.b,{path:"/list",render:function(){return Object(i.jsx)(ee,{})}}),Object(i.jsx)(o.b,{path:"/newAnnouncement",render:function(){return Object(i.jsx)(se,{})}}),Object(i.jsx)(o.b,{path:"/search",render:function(){return Object(i.jsx)(ue,{})}}),Object(i.jsx)(o.b,{path:"*",render:function(){return Object(i.jsx)("div",{children:"Something went wrong"})}})]})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,218)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),c(e),a(e)}))},Oe=n(104),he=n(217),pe=Object(p.c)({form:he.a,announcement:q}),xe=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):p.d)(Object(p.a)(Oe.a)),ve=Object(p.e)(pe,xe);s.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(te.a,{children:Object(i.jsx)(h.a,{store:ve,children:Object(i.jsx)(me,{})})})}),document.getElementById("root")),be()},24:function(e,t,n){e.exports={wholeNavBar:"NavBar_wholeNavBar__O7MUB",navLink:"NavBar_navLink__3yo8z",active:"NavBar_active__QkXoh"}},44:function(e,t,n){e.exports={formControl:"Myareas_formControl__je5W8",error:"Myareas_error__2D5D5",errorM:"Myareas_errorM__FTFlJ"}},79:function(e,t,n){e.exports={serchWrapper:"Search_serchWrapper__1pOzh",toRight:"Search_toRight__2lj62"}}},[[214,1,2]]]);
//# sourceMappingURL=main.e294a4e5.chunk.js.map